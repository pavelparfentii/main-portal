<?php

namespace App\Console\Commands;

use App\Models\Account;
use App\Models\Week;
use Illuminate\Console\Command;
use Illuminate\Support\Facades\Http;

class AuthMigrationCommand3 extends Command
{
    /**
     * The name and signature of the console command.
     *
     * @var string
     */
    protected $signature = 'app:auth-migration-command3';

    /**
     * The console command description.
     *
     * @var string
     */
    protected $description = 'Command description';

    /**
     * Execute the console command.
     */
    public function handle()
    {
        $authorizationToken = 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJlNDMwMDliNi0yYWYzLTQ4NDQtYTk5NC1lZWZiOWY4ZTgwOGUiLCJleHAiOjE3MTgxOTkyODUsIm5hbWUiOiJQYXNoYSIsImVtYWlsIjoicGF2ZWxwcmZudEBnbWFpbC5jb20iLCJ3YWxsZXRfYWRkcmVzcyI6IjB4MjliOTIxN2Q1YjA0NWYwNEY1OEY2NDFFOEVkQmQ4YkVmY2M2MTQ5YyIsImlzX2FkbWluIjp0cnVlLCJkaXNjb3JkIjp7InByb3ZpZGVyX2lkIjoiOTgzODAwNDk4NTY4MTk2MDk3IiwidXNlcl9uYW1lIjoiYnJlaW42ODA0In0sInR3aXR0ZXIiOnsicHJvdmlkZXJfaWQiOiIxNDk2ODIwMzk2NTAyNDMzNzk3IiwidXNlcl9uYW1lIjoicGhwX2FydGlzYWgiLCJuYW1lIjoicGhwIGFydGlzYW4iLCJwcm9maWxlX2ltYWdlX3VybCI6Imh0dHBzOi8vcGJzLnR3aW1nLmNvbS9wcm9maWxlX2ltYWdlcy8xNDk2ODIwNDUzMTc1OTY3NzQ5L2lQZ2tmazV6LnBuZyJ9fQ.JI-UewonSkAsW_2l9BuveOoHjlgwRYdTwHNCt9NQgaQ';

        $endpointUrl = 'https://auth.digitalsouls.club/management/users/';

        $array = Account::whereNotNull('auth_id')->pluck('auth_id')->toArray();
       // $array = ["646f9fb8-9e1f-49b2-84db-66f62cac5cdf", "8fa0136e-662d-4040-81eb-3390d8b07b73", "4a18daa0-b205-4d6d-a494-045c1b37c7d9", "6865d093-8044-4236-a443-a3f894268e08", "1313307c-b8d2-4314-948a-b06fef7430a8", "9f7a4d07-dd02-4497-8109-da94c2d7d555", "9e69310a-2c29-49a3-819b-14812531518b", "ff6c098f-c976-4996-bb45-3a99116075d5", "db0bb185-3980-4e99-a138-ae5cd75cd520", "d1d30996-3c5d-47ef-8a0a-abcb2b127d63", "2cb1b6f1-8922-4f66-9f8d-cf5818b848ed", "288b89c9-0dd9-4a98-97b3-1545e3dc0cc3", "eb95a200-cd85-4177-974f-c029688c7bd3", "e44a792b-19bf-409c-805d-5c1aa10d2ea0", "55c6cace-50bc-4f1d-8ee6-9356e8872161", "f6776fba-2961-4b4b-bab3-c98d938af672", "5aeb1042-2dab-4737-a848-17df28c3a97a", "dfa7a48b-aa22-4898-98f4-0091565c9931", "3fd459c8-d21a-4746-b915-7d83d8a6a4b0", "d1baef95-7506-45da-829b-3593ce5a9c03", "9b769c52-c7bd-406d-a656-b92d72c38956", "cac33084-616b-4c63-9c27-d18205d18fdf", "4ccbdead-3410-45e9-b1ed-3761b4c82d7a", "5d5c10ca-3046-4973-aef9-7b399f5d196c", "92d9db78-de63-4170-b490-15551802e0d4", "b810d5ee-fbe2-46c7-a6f4-5180a174e9d0", "a2d3677e-2fb8-4c63-b78d-12c4b4c3a937", "49c7f177-cbef-4870-a98c-5bc48a22172b", "d56b083b-c5f6-4d2a-90b2-041e5b8cf787", "363fb8c7-2202-40b6-97e5-0a2ba0d350b9", "12edbdc3-abd2-4259-916f-10cde13aa395", "6878055c-4b60-4db3-bc9d-19073ce2772e", "a9035358-6936-4933-a388-970cf7bb1f80", "3147846c-0395-45e3-8b9b-bc921c3f4746", "02ab6191-04cb-40f3-8e11-2809788ddbcb", "61725faf-38c4-43a8-ada3-3c0c628964bb", "edce1208-ef6d-402d-ad98-27ad025ad69c", "9c92375f-0d87-4843-b04b-ca7a1b3e0084", "ccff47cb-0a01-4076-b19d-af8b0c3989ae", "1ef64eff-5490-49e0-a492-5f5e3f828216", "dac7bc82-c4a1-4711-8796-e3d7b312ca16", "a05b233a-93dc-4dc7-8545-271a33dacf7e", "51637a45-586a-44fc-a70c-67c6ae8af291", "439fe96b-7519-474a-81f4-0d554f023325", "0a9d222e-b95b-4fa0-a62c-702f05e5bec0", "d0a964c2-cab2-4949-a6b1-48062053c657", "d8278490-6ec7-47ed-8a44-884b9926705f", "e284bfe5-d046-425f-9cae-e05a2b69b6dc", "46a9dbc6-1af8-4913-a556-b985ae6efb79", "9f1e44d2-6f03-4dd8-a32b-e79eb78a3ace", "eecde5dd-5338-459f-ba7d-a18de31e8082", "16418396-4d7a-4750-b845-7c97bb7132b7", "e0915f99-3ea0-4ef9-8c72-70aecd8ad5a2", "a0f20973-0369-4f76-8b01-34550887f177", "d1b4b1eb-76cd-484b-9967-a1f1d977dd25", "0b62aece-8432-4977-a906-37d8e5ad69de", "e173e4a4-eec9-4492-83a3-fffb31bc4e5e", "7cb49a5c-cb25-4a80-b6f4-090b96eeceb6", "f8375bd6-1f05-4906-931e-9492b7a15f9c", "222dc5e6-140b-4fce-bb1f-a708c0fc40c4", "db3408e6-0e48-4ebd-b9d4-2f41a772d506", "01b9b560-36f9-4de5-b720-9ae0d486c6f8", "336beb16-d3b5-4079-af9a-4e703fcd72e4", "1ff4c53a-57cc-4524-a585-96051eb1ff2b", "df8197bb-226c-49ce-bd25-5ebf299e3f75", "f293ae0d-07c7-4162-b833-55c32fe4297f", "75aae44a-ceb6-4281-ba5c-33d6e34c6f50", "970c7cc5-f848-4f21-9858-ea7cd78663c1", "d85158ba-5159-4897-9111-ada3d2d8da99", "23bedbeb-3b85-4798-b8a4-15905c937cd3", "1049c9c9-68ee-479c-b531-8a2e3708307c", "b2876820-5181-47e3-8a3d-a4f19790621c", "e4128909-7318-4480-8a98-311b909139c8", "89324d65-da07-43b2-9042-5c6bc0665197", "7201c0ad-bcd2-497b-ade9-279bb855a2af", "bc37287c-095a-4fff-b1c1-a142ee554fb5", "102b5e73-9e97-4cb7-8f9f-6c6bae1228d4", "a542bc1f-a815-400b-879d-95cacd0961e7", "bd429513-7071-4872-869d-fc4250da4cd6", "64e9974b-12e1-401e-aa28-95719f987620", "8488a360-8499-4e6b-96fa-35203f5ee60b", "9906f114-fe9b-435e-a5be-75242bc41d8d", "b5313d97-f329-48b5-9bbf-46ed3117fe70", "f5c65f6c-298c-47ea-bc9f-fd2cc4abc150", "af5532db-1d64-4f9d-b1fa-0c69d91b0568", "89b01b2a-25e1-4806-820e-c51367693ff1", "d13d7766-4dd1-4222-ac4a-93aef8a9820c", "050b49f2-7b5e-4fd6-af25-6180ae268e78", "084d2f3b-999a-4779-a57d-5a9b2fcfca56", "7cf27fad-39ae-457a-b6e8-e01bb5a65c5e", "1e315f0b-3ee4-413f-b5c3-c44b57a8481c", "05cb5181-6164-44ca-ba96-d098be9f3453", "02ae307b-0e52-4f41-bf16-9c69b9701b46", "89b8344e-1f61-4a82-8d96-2653de6d7763", "019b9c48-133f-4b01-8483-3fd6eedccdf3", "645af979-ec8d-4c72-9189-90e0dbecb3de", "8c1104c6-9805-4724-a1fa-1943d1555aa0", "6c4fe49d-8162-4d2e-9416-a8e8df011bf3", "f15f07bc-5924-4600-a4a9-9707f0b800a5", "dceaa17f-4c9a-4f4d-a0fd-d3b8729cae3e", "2a9e4a64-4f2b-4b4a-b9e5-4889ff12b3c0", "fb8b4b0b-c1a4-4f54-995f-6200420922e2", "96eb3898-ffe3-44e6-8206-73a18102b8af", "d81f8c0d-b654-4199-bcfe-714b2e6161bf", "0df7d810-ec80-47b0-861c-b87c645ad784", "29329a9d-d17b-4413-a42c-d02b33436354", "d1b9aa65-8133-4343-9dba-a1b9d6546728", "dfd15d3d-64e0-4470-be7e-15a9e2222e29", "2afa542d-5271-48b1-a531-90e949d1b314", "979be569-fb1e-40fb-b01e-4125c0345546", "42bb5bb0-dcd6-41cd-9e6f-9c9773388f1a", "0f8e166d-01b5-4343-927c-839ba72d6ffe", "71473736-6f21-4750-9983-d60a07008679", "80b39f3f-124c-4217-9b46-35e06f0e01d8", "bb649500-ec23-4be8-8cec-e3918a614d6a", "e892675f-6f83-4863-89aa-8671bec56db0", "a5ae225a-4ff4-4a09-bd2a-6032a7e5707d", "03f8cedb-d6cc-485e-8f21-37d6193c6bc6", "2b3ab6f3-505f-4673-9a94-e87ba0236ae4", "752cf252-f932-40fa-ae47-73167f5e8956", "386a56a1-3d85-45ec-b7a1-7a12398f09d0", "109ff10b-25c9-4278-9d3e-d976fed55a07", "e2e22c33-d38b-42a5-ac62-b4c2ec03b93d", "131945fa-b93d-4742-b913-8082b8eae8ee", "623160eb-84a4-448b-ab5b-860fcd18cb07", "5aee9df3-9027-4920-8386-914efaa097d0", "69025881-dd5b-4428-8578-18d48694b40a", "501b822a-b3c3-440b-81df-c81316dea2a5", "fd9afe1a-a113-4bd7-bb4a-aa95cb8a3080", "9ade655e-690c-4db4-a1f3-2efe70715e23", "1f5258de-0184-4074-b067-1ff3bf2a93f8", "d5a26d94-bc3a-4574-9a21-64251249dd89", "96d3521b-4c16-49d3-b5a4-9c642f694308", "aeb217b0-a601-4582-9a6b-dd4a992f709a", "0809495f-6a74-4c78-a892-9a0ce6f7c285", "6ccfddaf-94f2-467c-a633-f4e747895ba9", "6046c0a3-b75b-4d8b-a21f-9fff10da48bd", "1f7c9bdb-367c-434e-b338-3ca78cfe0f3d", "025c3305-bf7b-4994-9c7e-7f4e2337e448", "f0ce9107-0660-4775-9441-ac7fc40b04f1", "0d088cb4-a867-425a-9c6c-9427ef9b6533", "a69e0d92-4347-41d7-8d63-84671de7b5d2", "daf36aca-ea53-437e-90a6-e9321d51259e", "6a511c9d-e9c5-4971-8bb7-0665656fd78e", "0be9ccac-2091-474b-923e-fd0a6a9aa8cb", "b2c07783-49ff-4709-b65b-7fbc4e9c43f1", "f16490af-5af0-406b-bb3c-61f2ec6f0f24", "73a619d2-cd85-4fd6-8b9c-a86500f96e9e", "3553877f-b0da-45ec-ba7c-19ba53b32f93", "01e36ec9-0e1d-475b-9bfd-7543dfa2541d", "d9d8a069-fc34-4975-820a-d8beb218c90a", "a51f5549-fa58-405e-a8a1-0ad9261a1d5a", "22e9c5c3-3672-43d0-b7d6-47b83f2e1e1a", "287c3118-b926-4bf5-a173-33e7f9140f44", "513cc54c-e571-4cbb-9c69-30561b80f89c", "a48e8098-a5ba-43ac-92b3-53ba26d61482", "15aacf88-432e-4870-b3fc-ab5bbfbe0462", "8e6b845e-db13-45b3-8fed-32f49b002920", "18bd64e3-67ab-427b-b061-7846d7a2c317", "23b9c346-cc27-4ca0-a179-a551cc1e021f", "dc2ca1e1-63e4-49d2-a382-9532bb3067d3", "cf1e069b-0930-4b90-bba4-f40dc1813f3f", "62e9812e-94ac-4d0b-ba0f-42081a432d74", "bd377a86-cae2-4723-9a5a-f1b96683b2c7", "a3c9a064-a002-44db-a91d-a2f7ec6ea20a", "52baef46-4290-458c-a174-4705ff8e2a6a", "e9faefbc-fe79-4a01-8d1e-32de19eaa9f2", "17a22e44-20df-4460-831a-2c73f916870b", "f7e71662-d748-4a9b-9e81-36c5e4295067", "3718a6cc-1af0-4016-ba89-4cf95c444c98", "54e0c819-7e09-45be-a627-63b04cc1abd6", "dda6171d-6573-45c0-b689-68b9afbf23b1", "ea944e10-5bf0-4eb3-8c65-ea583edc66fd", "565200c9-7c2d-4080-b864-130351732fc2", "de404720-f9c6-47a5-81b2-92abc416ac32", "2c843999-7ca9-45a1-94e6-e0e1b3c1d0d0", "3bbbf14b-4f5a-46d7-93fb-0ae83f167aae", "7b946287-bc9b-42d8-9c1c-e9deef86231a", "bd3bd6ee-00ce-4961-9868-a52a8adf6760", "46ea57ad-4d4a-47b3-ac4b-eeb7dc0230ff", "32c3c6f9-4d79-4801-b684-1de09c13c582", "11cbc6d4-8ea3-4d66-9efe-df49c9c003a0", "ef4dd346-7b47-48b9-a35a-7a4f10e39fb4", "7ca30c9e-f9f2-4181-893b-5d3be522cdf8", "041bbd95-5818-4440-ba63-652558a5bace", "a9fc00a7-6d2f-41f1-906c-d6c6a02e4b16", "9104f907-1a68-45ff-af17-90195a4c8919", "65bb6842-dca7-4dfd-b3b0-08b2e73a9a08", "37a4f17e-7d0a-48fd-968b-c8e490eb9c2a", "1f12df49-58e6-4ee0-8e0f-1a9190506d4d", "2a07df02-ec74-4ff5-9933-e94279d4e828", "d51114fd-0200-496e-8e80-89ffeb8cca15", "e5f00cbf-f01f-494a-a022-1e108cc438e9", "f052a9b8-6168-4be1-ab2c-8be131ce6993", "e67cee58-75ef-4d3a-a385-0b918c85c265", "41922667-031b-4aba-892c-c228a45d1259", "7cd3ad08-802d-4aa1-ac77-7460d80a04f5", "dde4e078-3688-4d5f-9223-764d95f77edc", "352d7bce-8d5f-47b6-8008-626b697f4eb0", "d72d7222-875d-461f-b00a-02725eff80a7", "91ad3731-f0df-41c3-8662-c30994c69bbc", "9d5c81e0-7d80-4715-92f5-89a715142d80", "7d1ed80d-9dd7-4783-9056-33912b98d68b", "992fe7e7-bf09-48fe-ba66-a407a943e06c", "86060e41-755c-42af-83c0-cb53dc40819a", "1e918968-e7d3-4f62-89f7-c9ce65830cae", "f37966a2-0bde-4add-a38f-0a80a5f278ee", "c1bf6483-69b0-4853-a48c-b03f1c7ab90b", "29cd06ee-a671-4af7-8315-9e20ce3e3a18", "63ca7677-6d48-4c14-9501-38e6cb3ea32f", "dbf963f1-5e0e-4f66-af74-dd29e0e9c966", "a15e1982-081d-43ac-a585-fa5433327d7a", "205df780-0147-4483-8c0a-e8b293c5a29d", "4e745328-defa-49f0-ad04-ec5d9eab4e6d", "f99848a4-a3d1-4f63-8772-d80f099f1ee0", "03748b02-786f-4f41-9691-ed65087776ef", "8700ed56-91b7-4374-8e63-4d3a02b06ada", "38c72e69-f6c2-4fa8-9615-754dd9f07ea6", "5feab60a-522e-4f7a-ac33-84266613d0c0", "46a7df43-68dd-47bd-b9b5-29d8e47d6410", "bd6e8dfc-f168-4a0e-b4a0-04a2a2439d2c", "04a6599d-c774-4787-b1a1-a14fd62ca4ea", "93635947-baa7-47dd-a733-8f946d8d9b23", "feaddd38-1c13-48fe-a844-e67d67aa438c", "86ae1754-7102-4606-9b11-0e90d4eb08e8", "32c79d31-61d2-40c5-87e3-4d0eab643621", "0cf80260-4792-4bdc-9bf9-a76cf98649fc", "e859b935-cb58-4702-a601-c19d9cc873e6", "bcf3e5ae-f700-4a26-aed6-6f613a645e89", "04cb16cb-7f04-4a07-95e6-ba9ea33795d0", "1a46ba12-e7e9-4411-b7b8-292cd68d7929", "659ba424-0eda-4665-9e92-488cf3030906", "6da035d7-bc76-42c5-96f2-38f25e869354", "7305733b-a8cb-4cca-8235-222fae68d593", "9fbbb46a-27cd-43bc-9ae7-5509d7a7e57f", "c8552d8a-72df-4c5b-92ac-fc1a44b114d2", "2644c09c-a7df-447b-9130-51f85eed7bf1", "0d038926-c55b-4397-b990-f0b5bb9ae7ed", "10ee2d32-7df7-4a34-81a5-89c25eeef1f2", "63039438-e3e3-4e1b-ad05-e987bc971397", "467d261d-f5f2-45c7-8cd2-a1d38a282614", "409f968f-1de4-42e0-a0b5-482aa37537a9", "fe707125-ee97-4fc0-b1b1-771126c902ae", "590a4c33-0f92-4da2-835f-e8ec2108c1a8", "1412bddc-f57b-47c9-8a5d-c768a5e69caa", "8fd7e854-6633-4ee4-9bd0-565e5abd9f59", "897d2421-07c1-4bd5-802f-876b2991d7df", "a229402d-dd80-4fe8-909c-919e27983981", "cee854eb-5afc-4d29-88d8-27cd6f12193d", "68a3f240-9d00-4344-9c5a-483609075041", "0b83be36-489f-4ab3-b556-4f61c6d5144e", "409dba62-1edc-40b9-a7cc-157db255eefb", "99399e9e-b0c3-481b-afc8-c775caf0578a", "a1e097a9-3aae-43c6-9daf-dbddfd41c16d", "91dd7f82-6db1-4e03-9159-8e7da572db45", "30341ee6-c83c-441b-a5bf-136ac06f9e5e", "cf50fbce-d0e4-44ca-bcf4-506fe389a7c0", "0763ba8c-c39f-4dc0-a82d-87063145bfd2", "ec3c7a17-0d08-4413-aab2-8420dacf04da", "96eb4ac9-dced-49cd-88d1-03792c760b2a", "efa492a8-83c9-463c-98a3-ffcb7f9e9ecf", "e62452f2-0e07-48e4-98e5-b5ac6d07965b", "23a0fde8-a2c1-4061-bc8f-088686e7a6d8", "019db0c7-c04c-4785-b66f-b8c366ad458a", "24fb4b8a-97bb-4265-8939-614f653f367c", "fd22876f-d084-4f7a-a868-af98c402e520", "10ea785d-b0c2-44fd-84a9-53f54fa70db6", "7606bd04-2217-4e1b-a594-ba2c28e9e9dc", "31e4c08f-efb5-4cdd-b23f-3afa4eed05ce", "715f877d-926c-49a9-95b6-cbdbc693a7bf", "99c0dbd3-3a91-4a9d-b94c-383859b0110e"];
        $array = ["d4f6e8cc-1c5a-4b6f-9735-2c5b5dd53021", "95e73c18-be65-489b-aaa0-e788aaea0ca6", "73babf8a-79f0-427f-becc-48ad2412a9d9", "0bd1f57d-3073-44d2-8f38-903da6e69da4", "948f4693-9ea3-4f0b-9fd3-c6cbaf701fac", "4560a647-ea21-4398-a10e-c4231b5aa0d3", "4bf9cd78-cd91-4f23-817d-123871b3bda9", "dbef471c-4ff5-42de-be48-87c9ec4efd17", "2056e5e6-91ed-4342-b6c9-85238810d825", "048b93a2-d6fa-4b28-a1e9-5daa6555f035", "d9571543-aacb-4ca5-911f-7918197de1f2", "1c8d4df0-ad49-4da4-8e9c-d5c6565e2c58", "2bccde28-93a1-4dd7-a1a3-65129f757a26", "234a181a-cf7b-456a-9a57-14f3b78aaf95", "3752c921-3978-4b60-ba71-f8014a8e8871", "715704bd-85cb-4eca-a4f9-5bd4b308e337", "e46afa74-b97f-45b3-89f0-8d8af57c6c80", "fbc80b10-f2c0-42b0-b1d9-09f8bda46765", "ca555f28-2ab6-411a-8ccb-28f157f0de41", "d70683d7-5d61-4b25-be89-b50dfeaf8725", "fd3059af-9661-4288-a195-f32bcc360319", "39d9e0b0-273b-4dda-a24a-e1b1408e7ca2", "51725a75-c6aa-4eda-a7b2-30e36d427d95", "b3ea124c-8188-4fb0-ab88-4fb35f3597a8", "e1313817-e9af-40a1-b68c-4aaa6314e310", "3036194d-6377-435a-9b9a-a9361b87684e", "b9c30da5-7f0c-45f8-b498-f7c17c165bbf", "b5b0880c-63f5-4a26-9ac0-697205223a6a", "6199c24f-8a00-4133-944a-e6e75ae9cc80", "3177c44b-20a4-4334-a890-469f22eceda6", "2e247849-9d29-45aa-8307-d25218e580c7", "43f8cb93-2003-4a31-957f-617001a09768", "5bc14752-125d-42a7-89a8-c2a449582add", "9a51da06-bdfe-46eb-bab3-dd632f2b7fbf", "b44a2954-5c2b-4026-9328-b7b2676006ea", "54c05c09-3bb4-4601-8605-d6f95a509339", "87fb2e84-a1d9-4bf3-ae32-70b614f4dec0", "8e30f3cf-ca65-4cfa-8fc0-ad5e8467acc4", "0b80b63b-103f-4844-b729-2ab1e7a355c0", "dbd16f22-28e9-4cc3-895a-8535f3c9c9d3", "1acfd726-b2fe-4463-bd66-b894d7e3580a", "2175eb0b-a684-47ab-848a-75fadc082d37", "4641f357-bbcf-4224-8c70-2f809127d38b", "01129ee7-84e4-41fe-adc6-229918dae278", "b75284a1-080c-48ab-b54a-07efd39252c7", "f60404b1-69ef-419e-b521-defc29abfc5b", "fa210883-14a0-490b-a23c-75884a377d6c", "72675699-60e7-4f45-88ad-03771ab54b8c", "d30918a8-0911-4102-be09-a06e76d79afc", "d67f9aac-9d8c-48a2-8d44-7e0af8aab4a9", "4279fcc2-d703-4aaf-a4a4-18b47ce131ed", "5cc8e4e8-3010-46ee-8d3a-17f978b825ca", "98471659-6864-4cdc-800f-6e752c942242", "1f088c09-2a21-4a4e-b594-e3d8ebabae35", "55888f4f-982b-4a26-8cf8-87dbdb89d7c1", "01707550-f59f-4186-b351-7e4c73497030", "4f17467e-3aa8-4d93-b9f3-560505f7400e", "7175aa27-eaab-4162-9c95-f4833ee168b6", "916ca4a5-60f1-48c3-af98-770e255a0fb9", "aea3f71c-0f6f-4260-940b-d98e2aca7776", "236c650a-7b1c-4e66-a303-40abe7c3c9ba", "7335c81e-35ed-4581-8929-e33f0e302dc5", "9b8c5303-02e1-4f8c-b374-b35801b2d191", "0c1a7618-20d9-4b6c-b560-face7141f1e8", "9aee9aeb-c34c-4e98-a8ec-1ac8c416f72c", "e889dff4-1847-4a37-9186-18e4362bcc3f", "4c20aec3-2e3c-4a68-a312-b45d96c99045", "6a2e09a0-afb7-462a-b05f-d03e899e7a3e", "6a733101-30a5-4971-8902-ac6a9c058112", "b3a0d1b5-9624-4319-8592-2f1ffbd9e0d4", "d0152bf7-bed4-43a8-ac39-68796c1d244f", "67e738a8-3e54-4928-af83-e555ac8f02d6", "68b947d2-5f8c-45e7-a8be-60675f9bec44", "efe2725d-014e-4d43-85a2-8dd5d7e43e1d", "15c74ddf-12b9-439f-ace0-3d69126a4eba", "f3722620-6ce1-488c-b18e-0308dd676a2d", "37003000-4a84-42fe-bb94-0bc138a09de3", "b1462c7b-673a-45b9-9131-b986d4588df8", "40ec9382-c491-4c0f-988d-35c5afbefb03", "a8ac4d2a-1e44-45db-97dc-e6eb042221df", "5ad05819-60e6-4e61-9c9a-d86595412c57", "3a394788-52fc-43fb-bd0b-522a0a541ad6", "d12b09c5-b611-4976-bec7-cdcc97ae81c7", "d5450ff6-9838-4485-93aa-f4d0aeb2ac6a", "ec87ed8e-c7e2-4c6d-a2ec-f39c647a018e", "f9c91f18-6bd7-48cf-a370-c724fd634fe3", "b9e87d7c-6bfa-4fbb-bdaa-6ddf634681d2", "9968dcda-36a4-459d-ba93-b86a818f12ad", "f571b2c2-55fa-4e55-8447-8dabc6a566da", "c601ef7d-30e8-4b9b-8ac4-bc16c0a56f3e", "f4676438-1576-4cbd-b498-266f8370390e", "0ed01089-6a65-4739-ba07-2717c4a43f0c", "646f9fb8-9e1f-49b2-84db-66f62cac5cdf", "fe2730e8-8b87-4aa3-ba3e-bf21389b3aa0", "f3973e93-7145-4040-b0b3-6efe2a02903b", "4821d418-a179-4713-821e-5b9fc4e7732b", "9e69310a-2c29-49a3-819b-14812531518b", "4472b7d7-ebd8-4a1c-be09-c313d7532b77", "b5b5f67d-86bc-47d3-bef2-85a986ae77d1", "95e4381f-3da7-45aa-b197-03d1202b8f20", "2cb1b6f1-8922-4f66-9f8d-cf5818b848ed", "e50481b4-f00f-461e-8266-5270f4dfc3cf", "6473ba5e-f072-4220-a968-2f8607f55a92", "9df4132c-0cc4-4762-8137-4fd35941f16f", "4af5191d-464f-4a3c-8f17-e05f8c078d50", "288b89c9-0dd9-4a98-97b3-1545e3dc0cc3", "a1f3a594-e41f-4fd3-8b56-b2072ca1933f", "74875a9c-4d23-4ff2-965f-19469d59b539", "d3eb2dae-10c4-4fdc-80c8-c8a0ece2690b", "bbf06b9a-e5da-4570-bc89-3d165461e1db", "5a425ff5-b393-4a43-aa01-fba913b029b5", "ae199a52-2137-4f93-8853-d54734e0687c", "c779489f-ab21-4572-ad9d-b9d83a1700a3", "27b3f874-7713-4347-b95b-221c1c8be79d", "f49185eb-52dd-4b0a-9d1c-444fad0206be", "430c25e8-42de-4948-88c9-1295203d7dd2", "da75740a-8443-41da-bbd2-a4c7ccce8f4e", "c9646a1a-1fbe-43e0-b727-54336863e61a", "c5903f0b-421a-4927-b121-e048e1b1059b", "bc4694ae-7b49-4eab-a5bd-dec167168fbf", "52b54ab4-01f5-4ea6-b515-ec746a62bf04", "709690e8-10f3-404b-a23c-3dcacbd19f6e", "a3b2d9fd-d9f3-4f67-a4e2-beba8b1d0f9a", "48bd534b-b0aa-4721-892f-8f92807f7fc0", "b611255a-1686-4084-b828-5968e0f5505f", "882555ce-a7ab-4628-88ae-37a1d03786e7", "7161d6c8-1ed5-4706-8be0-bedaad33d461", "b832e912-4d9d-416e-b848-1ec1f6ed8b4a", "9d3b5beb-10f9-4627-9c25-1cf2df36f443", "50b20314-bd4a-4c1b-8246-2df5859d9672", "3de7e38a-39b9-41a0-bde7-967428215332", "d1713aee-1b4b-482a-b94f-5d8bc1d667e2", "bf774ebe-b430-436f-8b04-a0f3b7933923", "5de66bc4-462b-4dbb-9707-785a1624798f", "fa69e295-dadb-4752-afcb-19cb93f525ca", "e74dc318-7bc5-400f-bd25-dd492a59155f", "3db8e89e-7663-41b4-821d-b5965b187e84", "6b253726-2d36-4745-9af8-f1d5963ee9a8", "e9f9ada3-7a21-4cc1-aeaf-b0c4700fab88", "83664ed1-9422-4232-a76e-a178b13bea30", "9368b1dc-d899-40d4-bd29-216ca9dae3d9", "2e816f46-9c01-476f-ac7f-d655ff4e1bbf", "0b7aba9d-caac-4744-ae29-4d56e50d1c5a", "e43009b6-2af3-4844-a994-eefb9f8e808e", "09d90718-66d5-44b0-a4d5-8d3bf331a2fc", "db7523c8-3ed1-4183-840e-b1127d050e54", "0fca191b-e4db-4940-96f2-1fb6256543da", "33371a72-f4c3-4f4a-a43f-57dabad38b11", "8860c69c-b85b-4290-a7f1-df218c314f3c", "395046a0-a663-4ae5-b3a0-885007a88fa8", "b95c5d50-249b-4ac7-8c82-8aa059fa5b00", "7e0803d6-38f9-40ee-a000-46bef4d1c526", "aadc5689-27c6-436c-b281-327075ada503", "28293d98-d827-4c6f-8cc6-332a46df5a08", "a38c3cbf-6241-4143-af02-a330632390de", "aa700bc3-ff31-40e1-b270-0f1c0148a4c1", "80e51c7c-8ffa-4f7a-adfd-c6374b43e522", "eddf8981-9275-4bd0-b592-04d17069cfae", "836ef6fb-37ad-45a1-a215-3ba62f99e2dc", "70b60ee3-245f-49e2-ad3f-7f99951cdd3a", "6197e4da-929c-4c65-8eec-3af5debacf32", "79ac9a83-09b3-4141-b347-4999ea129fed", "ce034b9d-919d-4076-83a8-0bb4302efdec", "bfe28f5b-2e5e-4e95-9419-1f6df8c7ccd0", "7b778956-874c-4e37-b4ce-a0dc8273dcee", "c0f58c3b-e7f3-4a0e-9204-5a0aee48488c", "b4e87a8d-f783-4ab1-9ca5-d2fec6e0741d", "842e88e2-5e08-4bb1-93aa-539faddbe3ff", "0e6bfce8-65e3-4dce-bde7-b0b61b2f71b3", "349dd347-2b9a-4192-80b2-9d36a68c3bf1", "50b0deb7-d545-4181-9bc7-2d51b90fa95c", "4098fa5d-d8fe-4777-b69c-090fb8dd885c", "759c26b7-d099-41ce-bf35-6daa4cde83b4", "7154d067-e6f0-4984-867d-d930f72b0b7c", "3214cd97-fd8e-4fd2-8244-076b2f03d039", "0f508be0-68ca-4461-bfd8-3aa567b3b52e", "76c2a0b2-24a9-42d1-949f-5cb7cf027490", "7159fc0b-56ee-4fc3-b48d-97962eb4e0e6", "4d615553-393c-4d71-a51e-1121f4318f40", "e8d21e52-e41e-4213-8036-8d65141f307c", "87537f4d-ecf5-437a-b046-aa605d2d0413", "02b8132d-4101-422e-9929-3263685ee109", "ba914aeb-46b0-4014-a1b7-6846e05b692a", "1c772d89-7c5f-43d5-9a27-985267dfde71", "491eaa60-7278-42d4-8a0e-1ea802ac305e", "3cb4b06c-b52c-42c0-b5ea-2ba0917be49d", "8adef26e-d2b4-4154-83f0-22d75e5d542d", "76f68c6a-be00-482a-bb69-af9b20d68b55", "c2c9fcd1-781d-4580-87f8-f253f89ab4f1", "48fa4598-9675-4348-b35a-1e8e0ce8ffe4", "f682ee9c-a1e3-45b7-bb85-56614d76fc72", "a24bc528-2670-47d6-904e-796bcad152b4", "1b589864-d195-416d-8e8c-6c839b0bdfd4", "18d84425-af09-4a9b-bbcf-1b6f1a0ceef9", "8355f5ff-f5e9-480c-b88b-5c50c0c338bf", "ed3d251e-a5ef-495b-8dcf-3f59ab2c2bc4", "561c5322-f6b5-49be-bbee-6b21f426ad4c", "53ea1675-4085-42f5-b4b0-9b726737ee6e", "2e747670-96e2-4cfc-b840-23cc0d6fe4a2", "5f6c4542-aedc-4d7d-bfe9-0682555f01a9", "ca005b06-5a36-4586-a1ed-406c1e295e38", "e6b0b9eb-8a13-4ec8-b883-80a4d447010a", "fe9cde6c-2622-4871-b33c-8460836e7d1f", "98e4f814-9d2c-4155-a5c1-df5a0d1f279d", "ccc48768-9e72-4610-a09e-6373f13a840c", "67ebab9e-fe1f-47b3-9756-2dd377404f1d", "c2943f95-3240-405c-a250-057abad6ace7", "d600ecc7-40b8-4516-aa89-7e339c44aa63", "bb94b4da-13d5-4674-960d-f6022d8e390b", "86d40099-5e9f-4dc4-8bde-436091eac6e2", "74fd981b-2deb-4af4-a438-1ee6068c0317", "f878a7fc-1130-40a4-8d26-e5b5387dae8d", "de604e3e-6931-4f96-b36e-f30b158859fc", "2aa3ceba-5850-4ac9-a4b0-a033796eb1a4", "35e73ad6-dc04-4b43-bcd0-712205fd2ad9", "5332d39d-6a5a-4f1f-9237-b2e7b6af0cf2", "6a733610-aad8-4ead-81a9-41809de7be77", "deb95c5a-e4fe-4c9f-892e-b16584161aab", "954b523b-ba22-4d2f-9ba9-6a3d71635424", "430c4a83-7f8d-4f54-818a-59d168d8225d", "78c5d3ce-85ed-4175-a9cc-7e65ad5b1955", "2e87c592-7d3d-492f-ad03-ed123ab5b10f", "41f8e9af-e444-4543-877f-be6c6db91de4", "bf9be80f-a3b7-4d8e-ac9a-8b2511264802", "ce17461f-4074-4714-addb-2565e68e2e87", "42246e3d-227f-4e22-82d5-ce0921d08f84", "e44a792b-19bf-409c-805d-5c1aa10d2ea0", "464a3847-d8ba-42df-950d-89f79b32857d", "cf6db548-7eb0-4f74-8339-fd21a35ddda2", "bd76820b-446c-4814-a1c7-e6745fefebb2", "27d6f229-c209-45cc-829f-6f7c98270526", "9ccde403-c2c8-4410-9418-0ade0acaf2cb", "8a201f87-05b8-4d8d-98af-63945d242637", "f5079807-e910-4f4b-adc9-3b5cb40191d5", "dd820675-b38e-4572-8357-089bb47b370b", "d08e2039-a156-4938-a508-4f6b2f2e6bf1", "2e10d325-61bb-4749-9919-e50b7f7c5acc"];

        $response = Http::withHeaders([
            'accept' => 'application/json',
            'Content-Type' => 'application/json',
            'Authorization' => $authorizationToken
        ])->withBody(json_encode($array), 'application/json')->get($endpointUrl);

        if ($response->successful()) {
            $usersData = $response->json();

            $bar = $this->output->createProgressBar(count($usersData['users']));
            $bar->start();
//            dd($usersData);
            foreach ($usersData['users'] as $datum){

                $bar->advance();

                $account = Account::where('auth_id', $datum['uuid'])->first();
                $userWallet = !is_null($datum['wallet_address']) ? strtolower($datum['wallet_address']) : null;
                $TwitterId = !is_null($datum['twitter']) ? $datum['twitter']['id'] : null;
                $TwitterName = !is_null($datum['twitter']) ? $datum['twitter']['name'] : null;
                $TwitterUsername =!is_null($datum['twitter']) ? strtolower($datum['twitter']['user_name']) : null;
                $TwitterAvatar = !is_null($datum['twitter']) ? $datum['twitter']['profile_image_url'] : null;
                $discordUserName = !is_null($datum['discord']) ? $datum['discord']['user_name'] : null;
                $discordId = !is_null($datum['discord']) ? $datum['discord']['id'] : null;

                if($account){
                    $account->update([
                        'email' => $datum['email'],
                        'twitter_id' => $TwitterId,
                        'twitter_name' => $TwitterName,
                        'twitter_username' => $TwitterUsername,
                        'discord_id'=>$discordId
                    ]);

                }else{

                    var_dump('here');

                    $account = new Account();
                    $account->auth_id = $datum['uuid'];
                    $account->wallet =  $userWallet;
                    $account->twitter_username = $TwitterUsername;
                    $account->twitter_id = $TwitterId;
                    $account->twitter_name = $TwitterName;
                    $account->discord_id = $discordId;
                    $account->save();
                    Week::getCurrentWeekForAccount($account);
                    $account->twitter_avatar = $account->downloadTwitterAvatar($TwitterAvatar);
                    $account->save();
                }
                $bar->finish();
            }

        }

        $this->info('success');
//        dd($response->body());
    }
}
